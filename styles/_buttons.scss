/* ---------------------------------------- */
/* DCC-QoL Button System - MINIMAL         */
/* ---------------------------------------- */

/* Button container styling */
.dccqol.chat-card .card-buttons {
    padding: 5px;
    margin: 5px 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    text-align: center;
}

/* Base button styling */
.dccqol.chat-card button {
    font-family: var(--dcc-qol-display-font);
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    cursor: pointer;
    border-radius: 4px;
    padding: 6px 12px;
    margin: 2px;
    width: calc(100% - 4px);

    /* Default styling */
    background: linear-gradient(to bottom, #f5f1e8, #e8e0d0);
    color: #2c1810;
    border: 2px solid #8b4513;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
    transition: all 0.2s ease;

    &:hover:not(:disabled) {
        background: linear-gradient(to bottom, #f8f4eb, #eae2d2);
        border-color: #a0522d;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.25),
            inset 0 1px 0 rgba(255, 255, 255, 0.4);
        transform: translateY(-1px);
    }

    &:active:not(:disabled) {
        background: linear-gradient(to bottom, #e0d8c8, #d5cdb8);
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
        transform: translateY(0);
    }

    &:disabled,
    &.disabled {
        background: linear-gradient(to bottom, #e8e8e8, #d0d0d0) !important;
        border-color: #999 !important;
        color: #666 !important;
        opacity: 0.6;
        cursor: not-allowed;
        transform: none !important;
        box-shadow: none !important;
        pointer-events: none;
    }
}

/* Action-specific button themes */

/* Damage buttons (Green) */
.dccqol.chat-card button[data-action="damage"] {
    background: linear-gradient(
        to bottom,
        var(--dcc-qol-damage-bg-start),
        var(--dcc-qol-damage-bg-end)
    ) !important;
    border-color: var(--dcc-qol-damage-border) !important;
    color: var(--dcc-qol-damage-text) !important;

    &:hover:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-damage-hover-bg-start),
            var(--dcc-qol-damage-hover-bg-end)
        ) !important;
        border-color: #32cd32 !important;
    }

    &:active:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-damage-bg-end),
            var(--dcc-qol-damage-bg-start)
        ) !important;
    }
}

/* Critical buttons (Orange) */
.dccqol.chat-card button[data-action="crit"] {
    background: linear-gradient(
        to bottom,
        var(--dcc-qol-crit-bg-start),
        var(--dcc-qol-crit-bg-end)
    ) !important;
    border-color: var(--dcc-qol-crit-border) !important;
    color: var(--dcc-qol-crit-text) !important;

    &:hover:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-crit-hover-bg-start),
            var(--dcc-qol-crit-hover-bg-end)
        ) !important;
        border-color: #e6730a !important;
    }

    &:active:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-crit-bg-end),
            var(--dcc-qol-crit-bg-start)
        ) !important;
    }
}

/* Fumble buttons (Red) */
.dccqol.chat-card button[data-action="fumble"] {
    background: linear-gradient(
        to bottom,
        var(--dcc-qol-fumble-bg-start),
        var(--dcc-qol-fumble-bg-end)
    ) !important;
    border-color: var(--dcc-qol-fumble-border) !important;
    color: var(--dcc-qol-fumble-text) !important;

    &:hover:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-fumble-hover-bg-start),
            var(--dcc-qol-fumble-hover-bg-end)
        ) !important;
        border-color: #e60000 !important;
    }

    &:active:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-fumble-bg-end),
            var(--dcc-qol-fumble-bg-start)
        ) !important;
    }
}

/* Friendly Fire buttons (Yellow/Amber) */
.dccqol.chat-card button[data-action="friendlyFire"] {
    background: linear-gradient(
        to bottom,
        var(--dcc-qol-friendly-fire-bg-start),
        var(--dcc-qol-friendly-fire-bg-end)
    ) !important;
    border-color: var(--dcc-qol-friendly-fire-border) !important;
    color: var(--dcc-qol-friendly-fire-text) !important;

    &:hover:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-friendly-fire-hover-bg-start),
            var(--dcc-qol-friendly-fire-hover-bg-end)
        ) !important;
        border-color: #ffad1a !important;
    }

    &:active:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-friendly-fire-bg-end),
            var(--dcc-qol-friendly-fire-bg-start)
        ) !important;
    }
}

/* Friendly Fire Damage buttons (Brown) - damage buttons within friendly fire cards */
.dccqol.friendly-fire-card button[data-action="damage"] {
    background: linear-gradient(
        to bottom,
        var(--dcc-qol-friendly-fire-damage-bg-start),
        var(--dcc-qol-friendly-fire-damage-bg-end)
    ) !important;
    border-color: var(--dcc-qol-friendly-fire-damage-border) !important;
    color: var(--dcc-qol-friendly-fire-damage-text) !important;

    &:hover:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-friendly-fire-damage-hover-bg-start),
            var(--dcc-qol-friendly-fire-damage-hover-bg-end)
        ) !important;
        border-color: #a0522d !important;
    }

    &:active:not(:disabled):not(.disabled) {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-friendly-fire-damage-bg-end),
            var(--dcc-qol-friendly-fire-damage-bg-start)
        ) !important;
    }
}

/* Compact buttons */
.dccqol.chat-card.compact .compact-button {
    padding: 4px 8px;
    font-size: 11px;
    margin: 0;
    width: auto;
    min-width: 80px;
    border-radius: 3px;
}

/* Legacy compatibility */
.dccqol-button {
    font-family: var(--dcc-qol-display-font);
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    cursor: pointer;
    border-radius: 4px;
    padding: 6px 12px;
    margin: 2px;
    background: linear-gradient(to bottom, #f5f1e8, #e8e0d0);
    color: #2c1810;
    border: 2px solid #8b4513;
    transition: all 0.2s ease;

    &:hover:not(:disabled) {
        background: linear-gradient(to bottom, #f8f4eb, #eae2d2);
        border-color: #a0522d;
        transform: translateY(-1px);
    }

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    &.damage {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-damage-bg-start),
            var(--dcc-qol-damage-bg-end)
        ) !important;
        border-color: var(--dcc-qol-damage-border) !important;
        color: var(--dcc-qol-damage-text) !important;
    }

    &.crit {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-crit-bg-start),
            var(--dcc-qol-crit-bg-end)
        ) !important;
        border-color: var(--dcc-qol-crit-border) !important;
        color: var(--dcc-qol-crit-text) !important;
    }

    &.fumble {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-fumble-bg-start),
            var(--dcc-qol-fumble-bg-end)
        ) !important;
        border-color: var(--dcc-qol-fumble-border) !important;
        color: var(--dcc-qol-fumble-text) !important;
    }

    &.friendly-fire {
        background: linear-gradient(
            to bottom,
            var(--dcc-qol-friendly-fire-bg-start),
            var(--dcc-qol-friendly-fire-bg-end)
        ) !important;
        border-color: var(--dcc-qol-friendly-fire-border) !important;
        color: var(--dcc-qol-friendly-fire-text) !important;
    }

    &.small {
        padding: 4px 8px;
        font-size: 11px;
    }
}

/* ---------------------------------------- */
/* Dice Roll Integration - QoL Enhancements */
/* ---------------------------------------- */

/* Global dice styling overrides */
.dice-roll {
    font-family: var(--dcc-qol-text-font);
    font-size: 13px;
    border: none;
}

.dice-formula {
    color: var(--system-primary-color);
    font-weight: normal;
    background: transparent;
    border: none;
    padding: 0;
    margin: 0 3px;
}

.dice-total {
    font-weight: bold;
    color: var(--system-primary-color);
    background: transparent;
    border: none;
    padding: 0;
    margin: 0 3px;
}

/* QoL-specific dice enhancements */
.dccqol.chat-card .dice-roll .dice-total.critical {
    color: var(--dcc-qol-status-success) !important;
}

.dccqol.chat-card .dice-roll .dice-total.fumble {
    color: var(--dcc-qol-status-failure) !important;
}
