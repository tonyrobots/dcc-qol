<!-- prettier-ignore -->
<div
    class="dccqol chat-card friendly-fire-card"
    data-actor-id="{{actor._id}}"
    data-weapon-id="{{weapon._id}}"
    data-token-id="{{tokenId}}"
    data-target="{{target}}"
    data-targettoken-id="{{targetTokenId}}"
>

    <!-- Compact Friendly Fire Message -->
    <div class="dccqol-friendlyfire-result status-failure">
        {{{d100RollHTML}}} - {{struckAllyText}}
    </div>

    <!-- Attack Roll Section -->
    <div class="dccqol-attack-roll-section">
        <div class="attack-roll-label">{{localize "DCC-QOL.FriendlyFireAttackRoll"}}:</div>
        {{{attackRollHTML}}}

        {{#if hit}}
        <!-- Hit - show success and include damage button partial -->
        <div class="dccqol-attack-result status-success">{{hitText}}</div>
        {{> "modules/dcc-qol/templates/partials/_damage-button.html"}}
        {{else}}
        <!-- Miss - show harmless result -->
        <div class="dccqol-attack-result status-failure">{{missText}}</div>
        {{/if}}
    </div>

    <footer class="card-footer centered">
        <span class="tag">{{localize "DCC-QOL.FriendlyFire"}}</span>
        {{#each properties}}
        <span class="tag">{{this}}</span>
        {{/each}}
    </footer>
</div>
